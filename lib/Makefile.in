LIB=		iconv
SHLIB_MAJOR=	1
SHLIB_MINOR=	0
SRCS=		iconv_module.c iconv.c iconv_int.c iconv_uc.c \
		iconv_ces.c iconv_ces_euc.c iconv_ces_iso2022.c

LIBDIR=		${PREFIX}/lib

INCDIR=		${PREFIX}/include
INCS=		iconv.h

CFLAGS+=	-DICONV_DEFAULT_PATH=\"${MODULEDIR}\"
MAN3=		iconv.3 iconv_open.3 iconv_close.3

iconv.3:	iconv.3.in
		sed "s|@@MODULE_DIR@@|${MODULEDIR}|" ${.ALLSRC} > ${.TARGET}

iconv_open.3:	iconv_open.3.in
		sed "s|@@MODULE_DIR@@|${MODULEDIR}|" ${.ALLSRC} > ${.TARGET}

CLEANFILES=	lib${LIB}.a ${SHLIB_NAME} ${SHLIB_LINK} ${SOBJS} ${OBJS} \
		iconv.3 iconv_open.3

# bring in rules.mk for standard functionality                                  
@INCLUDE_RULES@
